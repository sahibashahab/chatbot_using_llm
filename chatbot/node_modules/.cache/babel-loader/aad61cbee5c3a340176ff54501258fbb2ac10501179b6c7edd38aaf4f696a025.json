{"ast":null,"code":"var _jsxFileName = \"D:\\\\office\\\\react1\\\\react\\\\chatbot\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatApp = () => {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const [chat, setChat] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const handleSend = async () => {\n    if (!message.trim()) return;\n    const userMsg = {\n      role: \"user\",\n      content: message\n    };\n    setChat([...chat, userMsg]);\n    setMessage(\"\");\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://127.0.0.1:8000/chat\", {\n        message\n      });\n      const aiReply = {\n        role: \"assistant\",\n        content: res.data.reply\n      };\n      setChat(prev => [...prev, aiReply]);\n\n      // ðŸ”Š Play voice if available\n      if (res.data.audio_url) {\n        const audio = new Audio(`http://127.0.0.1:8000${res.data.audio_url}`);\n        audio.play();\n      }\n    } catch (err) {\n      console.error(\"API Error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    style: {\n      maxWidth: 600,\n      margin: \"auto\",\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"AI Voice Chatbot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ccc\",\n        padding: 10,\n        minHeight: 300\n      },\n      children: chat.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [msg.role === \"user\" ? \"You\" : \"Bot\", \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), \" \", msg.content]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: message,\n      onChange: e => setMessage(e.target.value),\n      placeholder: \"Type your message\",\n      style: {\n        width: \"80%\",\n        padding: 10,\n        marginTop: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSend,\n      style: {\n        padding: 10,\n        marginLeft: 5\n      },\n      children: loading ? \"Sending...\" : \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatApp, \"UN5NP0ykgoM4fKCeJV+qmJYbOko=\");\n_c = ChatApp;\nexport default ChatApp;\nvar _c;\n$RefreshReg$(_c, \"ChatApp\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","ChatApp","_s","message","setMessage","chat","setChat","loading","setLoading","handleSend","trim","userMsg","role","content","res","post","aiReply","data","reply","prev","audio_url","audio","Audio","play","err","console","error","className","style","maxWidth","margin","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","border","minHeight","map","msg","idx","marginBottom","type","value","onChange","e","target","placeholder","width","marginTop","onClick","marginLeft","_c","$RefreshReg$"],"sources":["D:/office/react1/react/chatbot/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst ChatApp = () => {\n  const [message, setMessage] = useState(\"\");\n  const [chat, setChat] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const handleSend = async () => {\n    if (!message.trim()) return;\n\n    const userMsg = { role: \"user\", content: message };\n    setChat([...chat, userMsg]);\n    setMessage(\"\");\n    setLoading(true);\n\n    try {\n      const res = await axios.post(\"http://127.0.0.1:8000/chat\", { message });\n      const aiReply = { role: \"assistant\", content: res.data.reply };\n\n      setChat(prev => [...prev, aiReply]);\n\n      // ðŸ”Š Play voice if available\n      if (res.data.audio_url) {\n        const audio = new Audio(`http://127.0.0.1:8000${res.data.audio_url}`);\n        audio.play();\n      }\n\n    } catch (err) {\n      console.error(\"API Error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"chat-container\" style={{ maxWidth: 600, margin: \"auto\", padding: 20 }}>\n      <h2>AI Voice Chatbot</h2>\n      <div style={{ border: \"1px solid #ccc\", padding: 10, minHeight: 300 }}>\n        {chat.map((msg, idx) => (\n          <div key={idx} style={{ marginBottom: 10 }}>\n            <strong>{msg.role === \"user\" ? \"You\" : \"Bot\"}:</strong> {msg.content}\n          </div>\n        ))}\n      </div>\n      <input\n        type=\"text\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        placeholder=\"Type your message\"\n        style={{ width: \"80%\", padding: 10, marginTop: 10 }}\n      />\n      <button onClick={handleSend} style={{ padding: 10, marginLeft: 5 }}>\n        {loading ? \"Sending...\" : \"Send\"}\n      </button>\n    </div>\n  );\n};\n\nexport default ChatApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}